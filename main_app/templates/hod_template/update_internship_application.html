{% extends 'main_app/base.html' %}
{% load static %}
{% block page_title %}{{page_title}}{% endblock page_title %}

{% block content %}

<section class="content aegis-section">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">{{page_title}}</h3>
                    </div>
                    <div class="card-body">
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h5>Student Information</h5>
                                <p><strong>Name:</strong> {{ application.student.admin.get_full_name }}</p>
                                <p><strong>Email:</strong> {{ application.student.admin.email }}</p>
                                <p><strong>Course:</strong> {{ application.student.course.name }}</p>
                                <p><strong>Applied On:</strong> {{ application.applied_at|date:"M d, Y h:i A" }}</p>
                            </div>
                            <div class="col-md-6">
                                <h5>Internship Details</h5>
                                <p><strong>Company:</strong> {{ application.internship.company_name }}</p>
                                <p><strong>Position:</strong> {{ application.internship.position }}</p>
                                <p><strong>Location:</strong> {{ application.internship.location }}</p>
                                <p><strong>Duration:</strong> {{ application.internship.duration }}</p>
                            </div>
                        </div>
                        
                        <div class="row mb-4">
                            <div class="col-md-12">
                                <h5>Cover Letter</h5>
                                <div class="alert alert-light">
                                    {{ application.cover_letter }}
                                </div>
                            </div>
                        </div>
                        
                        {% if application.resume %}
                        <div class="row mb-4">
                            <div class="col-md-12">
                                <h5>Resume</h5>
                                <a href="{{ application.resume.url }}" target="_blank" class="btn btn-info">
                                    <i class="fas fa-file-download"></i> Download Resume
                                </a>
                            </div>
                        </div>
                        {% endif %}
                        
                        <hr>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <h5>Update Application Status</h5>
                                {% include "main_app/form_template.html" with messages=messages form=form button_text="Update Status"%}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}
